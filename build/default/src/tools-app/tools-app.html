<html><head><link rel="import" href="../../bower_components/polymer/polymer.html"><link rel="import" href="../../bower_components/paper-input/paper-textarea.html"><link rel="import" href="../../bower_components/paper-button/paper-button.html"></head><body><dom-module id="tools-app"><template><style>:host{display:block;}textarea{width:100%;height:50%;}</style><paper-textarea label="SQL" value="{{sql}}"></paper-textarea><br><paper-button on-tap="convert" raised="" class="indigo">Convert</paper-button><paper-button on-tap="clearPhpArrayStr" class="pink">Clear result</paper-button><pre>[[phpArrayStr]]</pre></template><script>class MyApplication extends Polymer.Element{static get is(){return'tools-app'}static get properties(){return{sql:{type:String,value:String(),notify:!0},phpArrayStr:{type:String,value:String(),notify:!0}}}convert(){console.log(this.get('sql')),this.clearStr('phpArrayStr');const a=this._doConvert();this.set('phpArrayStr',a)}_copy2ClipBoard(){const a=this.$.output;a.select(),document.execCommand('Copy')}_getColumnNameAndData(){const a=/[(](.*)[)]/g,b=this.get('sql').match(a);let c=[],d=[];for(let f,e=0;e<b.length;e++)f=b[e],f=f.replace(/`/g,''),f=f.substr(1,f.length-2),0===e?c=f.split(','):d.push(f);return{columnName:c,columnData:d}}_getPhpArrayStr({columnName:a,columnData:b}){let c=String();for(let e,d=0;d<b.length;d++){e=b[d],c+='[\n';let f=e.split(', ');for(let g=0;g<a.length;g++)c+=`'${a[g].trim()}' => ${f[g].trim()}`,g<a.length-1&&(c+=',\n');c+='\n]',d<b.length-1&&(c+=',')}return c}_doConvert(){return this._getPhpArrayStr(this._getColumnNameAndData())}clearStr(a){this.set(a,String())}clearPhpArrayStr(){this.clearStr('phpArrayStr')}}window.customElements.define(MyApplication.is,MyApplication);</script></dom-module></body></html>